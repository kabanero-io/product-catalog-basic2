default:
  app:
    labels:
      app.kubernetes.io/name: product-catalog
    enabled: true
    enableAutoSync: true
    autoSyncPrune: false
    project: product-catalog-basic
    destination:
      namespace: openshift-gitops
      server: https://kubernetes.default.svc
    source:
      repoURL: https://github.com/keithchong/product-catalog-basic.git
      targetRevision: main

projects:

  product-catalog-basic:
    description: Project for Product Catalog Basic Application
    namespace: openshift-gitops
    sourceRepos:
    - '*'
    destinations: |
      - namespace: 'dev'
        server: https://kubernetes.default.svc
      - namespace: 'test'
        server: https://kubernetes.default.svc
      - namespace: 'prod'
        server: https://kubernetes.default.svc
    extraFields: |
      clusterResourceWhitelist:
      - group: '*'
        kind: '*'

applications:

  dev:
    labels:
      openshift.environments/name: dev
    destination:
      namespace: dev
    source:
      path: environments/overlays/dev

  test:
    labels:
      openshift.environments/name: test
    destination:
      namespace: test
    source:
      path: environments/overlays/test

  prod:
    labels:
      openshift.environments/name: prod
    destination:
      namespace: prod
    source:
      path: environments/overlays/prod